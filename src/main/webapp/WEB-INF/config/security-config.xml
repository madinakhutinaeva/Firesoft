<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
xmlns:beans="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
		   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		   http://www.springframework.org/schema/security
		   http://www.springframework.org/schema/security/spring-security.xsd">

		 

	 


<!-- http config for REST services (AJAX interface) 
=================================================== -->
<http auto-config="true" use-expressions="true" pattern="/rest/**">
    <!-- login configuration 
        login-processing-url="/rest/security/login-processing" front-end AJAX requests for authentication POST to this URL
        login-page="/rest/security/login-page" means "authentication is required"
        authentication-failure-url="/rest/security/authentication-failure" means "authentication failed, bad credentials or other security exception"
        default-target-url="/rest/security/default-target" front-end AJAX requests are redirected here after success authentication
    -->
    <form-login 
        login-processing-url="/rest/security/login-processing" 
        login-page="/rest/security/login-page" 
        authentication-failure-url="/rest/security/authentication-failure" 
        default-target-url="/rest/security/default-target" 
        always-use-default-target="true" />
    <logout logout-url="/rest/security/logout-url" />

    <!-- REST services can be secured here, will respond with JSON instead of HTML -->
    <intercept-url pattern="/rest/break**" access="hasRole('ROLE_USER')" />

    <!-- other REST intercept-urls go here -->

    <!-- end it with a catch all -->
    <intercept-url pattern="/rest/**" access="isAuthenticated()" />

    <!-- reference to the shared request cache -->
    <request-cache ref="requestCache"/>
</http>

<!-- http config for regular HTML pages
=================================================== -->
<http auto-config="true" use-expressions="true" pattern="/">

    <!-- other intercept-urls go here -->

    <!-- in my app's case, the HTML config ends with permitting all users and requiring HTTPS
         it is always a good idea to send sensitive information like passwords over HTTPS -->
    <intercept-url pattern="/" access="permitAll" requires-channel="http" />

    <!-- reference to the shared request cache -->
    <request-cache ref="requestCache"/>
</http>
    

  <!-- remove security from static resources to avoid going through the security filter chain -->
   <http pattern="/resources/**" security="none" />

<authentication-manager>
	<authentication-provider>
		<user-service>
		  <user name="admin" password="admin" authorities="ROLE_ADMIN, ROLE_USER" />
		  <user name="user" password="user" authorities="ROLE_USER" />
		</user-service>
	</authentication-provider>
</authentication-manager>

</beans:beans>

















